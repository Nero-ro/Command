# Паттерн Команда #
Это является *учебным файлом*, направленным на освоение и изучения Паттерна Команда.
В нём мы изучим новый вид инкапсуляции - ***вызов методом***.

Если говорить кратко, то при таком методе вызывающему объекту не нужно беспокоиться о том, как будут выполняться его запросы. Он просто использует инкапсулированный метод для решения своей задачи.

Паттерн  Команда  довольно  трудно  понять  по  описанию. В качестве примера организации взаимодействия классов  и  объектов  в  паттерне Команда возьмем пример с простого кафе.
## Это и будет являться кратким введением в паттерн Команда.

Для начала проанализируем  взаимодействия  между  посетителем, официанткой,  заказами  и  поваром.  Так  вы  лучше  поймете  суть заимодействий объектов, задействованных в паттерне Команда. 
Для наглядности воспользуемся рисунком.

![Рис1](https://github.com/Nero-ro/Command/blob/master/Images/1.PNG?raw=true)

Более подробно:

![Рис2](https://github.com/Nero-ro/Command/blob/master/Images/2.PNG?raw=true)

### Роли и обязанности

*Бланк заказа* инкапсулирует запрос на приготовление блюд. Будем  рассматривать  бланк  Заказа  как  объект  запроса на приготовление еды.

*Задача Официантки* — получить Заказ и вызвать его метод orderUp(). Работа Официантки  проста:  она  получает  Заказ  и  продолжает обслуживать  посетителей,  пока  не  вернется к стойке и не вызовет метод orderUp() для выполнения Заказа.

*Повар* располагает всей информацией, необходимой для приготовления блюд. Повар —  тот  объект,  который  умеет  выполнять  заказы. После  того, как Официантка  вызовет метод orderUp(),  за дело берется Повар — он реализует  все методы, необходимые для создания блюд.

##  От Кафе к паттерну Команда

Переработаем диаграмму выполнения заказа  для паттерна Команда. Сразу можно увидеть, что участники остались прежними - изменились только имена!

![Рис2](https://github.com/Nero-ro/Command/blob/master/Images/23.PNG?raw=true)

Сопоставим роли и методы из примера с кафе с соответствующими ролями и методами паттерна Команда.

![Рис2](https://github.com/Nero-ro/Command/blob/master/Images/4.PNG?raw=true)

# Оффициальное определение паттерна Команда

Паттерн Команда инкапсулирует  запрос в виде объекта, делая возможной параметризацию клиентских  объектов  с  другими  запросами, организацию очереди или регистрацию запросов, а также поддержку отмены операций.

![Рис2](https://github.com/Nero-ro/Command/blob/master/Images/5.PNG?raw=true)

Объект  команды  *инкапсулирует  запрос*  посредством  привязки набора операций к конкретному получателю. Для этого информация  об  операции  и  получателе  «упаковывается» в объекте  с  единственным методом  execute(). При  вызове метод  execute()  выполняет  операцию  с  данным  получателем.  Внешние  объекты  не  знают,  какие  именно  операции выполняются, и с каким получателем; они только знают, что при вызове метода execute() их запрос будет выполнен.

Мы  уже  рассмотрели  пару  примеров  *параметризации  объектов* в командах. В кафе Официантка параметризовалась разными  заказами.  В  упрощенном  примере  с  пультом  ячейка сначала связывалась с командой включения света, а потом эта  команда  заменялась  командой открытия  двери  гаража. Для ячейки пульта (как и для Официантки) совершенно неважно,  какой  объект  команды  с  ней  связан  (при  условии, что он реализует необходимый интерфейс команды).

С использованием команд для реализации *очередей и регистрации, а также поддержки отмены* мы пока не сталкивались. Не беспокойтесь, это весьма тривиальные расширения базового  паттерна Команда. А  разобравшись  с  основной  схемой  паттерна,  вы  легко  освоите  паттерн Метакоманда —  механизм создания макропоследовательностей для выполнения серий команд.
